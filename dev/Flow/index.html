<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Flow · GuillotineModels.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">GuillotineModels.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">GuillotineModels</a></li><li><span class="tocitem">GuillotineModels.Utilities</span><ul><li><a class="tocitem" href="../Utilities/">Utilities</a></li><li><a class="tocitem" href="../U-Args/">Utilities.Args</a></li></ul></li><li><a class="tocitem" href="../Data/">GuillotineModels.Data</a></li><li><a class="tocitem" href="../SaveModel/">GuillotineModels.SaveModel</a></li><li><span class="tocitem">GuillotineModels.CommandLine</span><ul><li><a class="tocitem" href="../CommandLine/">CommandLine</a></li><li><a class="tocitem" href="../CL-SolversArgs/">CommandLine.SolversArgs</a></li></ul></li><li><span class="tocitem">GuillotineModels.PPG2KP</span><ul><li><a class="tocitem" href="../PPG2KP/">PPG2KP</a></li><li><a class="tocitem" href="../PPG2KP-Heuristic/">PPG2KP.Heuristic</a></li><li><a class="tocitem" href="../PPG2KP-Enumeration/">PPG2KP.Enumeration</a></li></ul></li><li><span class="tocitem">GuillotineModels.Flow</span><ul><li class="is-active"><a class="tocitem" href>Flow</a></li><li><a class="tocitem" href="../Flow-Enumeration/">Flow.Enumeration</a></li><li><a class="tocitem" href="../Flow-Format/">Flow.Format</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">GuillotineModels.Flow</a></li><li class="is-active"><a href>Flow</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Flow</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/henriquebecker91/GuillotineModels.jl/blob/master/docs/src/Flow.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="GuillotineModels.Flow"><a class="docs-heading-anchor" href="#GuillotineModels.Flow">GuillotineModels.Flow</a><a id="GuillotineModels.Flow-1"></a><a class="docs-heading-anchor-permalink" href="#GuillotineModels.Flow" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="GuillotineModels.build_model-Union{Tuple{P}, Tuple{S}, Tuple{D}, Tuple{Val{:Flow},Any,Array{D,1},Array{P,1},Array{S,1},Array{S,1},S,S}, Tuple{Val{:Flow},Any,Array{D,1},Array{P,1},Array{S,1},Array{S,1},S,S,Dict{String,Any}}} where P where S where D" href="#GuillotineModels.build_model-Union{Tuple{P}, Tuple{S}, Tuple{D}, Tuple{Val{:Flow},Any,Array{D,1},Array{P,1},Array{S,1},Array{S,1},S,S}, Tuple{Val{:Flow},Any,Array{D,1},Array{P,1},Array{S,1},Array{S,1},S,S,Dict{String,Any}}} where P where S where D"><code>GuillotineModels.build_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">build_model(::Val{:Flow}, model, d, p, l, w, L, W, [options])</code></pre><p>The Flow model is a variant of the PPG2KP model using flow constraints. The result is a considerably larger model with a slight enhancement on the relaxation bound.</p><p><strong>Arguments</strong></p><p>The required arguments are the same as all <code>build_model</code> methods, and the optional argument <code>options</code> is always ignored.</p><p><strong>High-Level Model Description</strong></p><p>Both length and width of the original plate may be seen as line segments. From these line segments, let us just consider a subset of the points: the first point (zero), the last point (L or W), and the ones in the middle that match a normal cut position.</p><p>For each width cut position, there is an instance of the length point set representing plates with all possible lengths but with a fixed width. The analogue (each length cut position ... width point set) also exists. Each of these point set instances is the vertex set of a strongly connected directed graph. There are no edges connecting one of such graphs with another (they interact by special constrainsts that cannot be seen as &#39;flow constraints&#39;/edges).</p><p>The variables of the model are the edges between those graphs. The edges are may be divided into forward edges and backward/circulation edges. The forward edges go from a node representing a point closer to the start of the line segment to a node representing a point farther from the start. The backward/circulation edges always go from a non-first (non-zero) point to the first/zero point of the graph. The forward edges represent cutting part of the plate for use or trimming. The backard edges represent the availibity of a plate of some dimensions to be cut in some orientation. For example, if there are two units of flow flowing through a forward edge that goes from point length 15 to point length 35 of the set with fixed width 50, then there are at least two plates of width 50 that have a subplate of length 20 (and width 50) cut from two parallel cuts, one in position 15 and another in 35. The two parent plates may have the same dimensions (i.e., their length is also equal to each other), or they may have different total length (they only share the same width); for an example, one of them may stop at length 35 and the other may have length 1000. Considering this same example, if there are a plate of size 35x50 and another of size 1000x50 available, then there is one of flow in the backward edge from point length 35 to point zero and from point length 1000 to point zero (all inside the set with fixed width 50).</p><p>Finally, forward edges may be subdivided into waste edges, piece edges and subplate edges. Waste edges do nothing besides letting the flow pass through them. The variables representing piece edges are in the objective function with coefficient equal to the profit of the corresponding piece. Subplate edges &quot;introduce&quot; new flow in the system, they do not only allow the flow to pass through them but also increase the flow in a correspondent circulation edge of the (other) graph that represents the plate they are extracting, but to be cut in the opposite orientation. For example, an increase in the flow of the subplate edge from length 50 to length 150 of the set with fixed width 200 will increase by the same amount the flow of the backward edge from width 200 to width zero of the set with fixed length 100.</p><p>The number and dimension of the original plates available is given by all backward edges that have their value fixed to a non-zero value a priori.</p><p><strong>Slightly Misleading Low-Level Explanation</strong></p><p><strong>Variables</strong></p><ul><li><code>edge[i]</code>: Positive Integer. The only variable. Measures the amount of flow passing through the edge. Has all edges indexed by their globalized index. Uses the many reverse indexes created by the enumeration process to build the model.</li></ul><p><strong>Objective function:</strong></p><p>Maximize the profit of the pieces cut.</p><p><code>sum(p[CP] * edge[1:number_of_pieces])</code></p><p><strong>Constraints</strong></p><ul><li>There is exactly one of the original plate, so its circulation arc is available since start, and cannot ever go over one. It must be one.<ul><li><code>sum(edge[is the backward edge of the original plate]) == 1</code></li></ul></li><li>The flow must go round.<ul><li><code>sum(edge[all edges ending in node x]) == sum(edge[all edges starting at node x]) : for every node x</code></li></ul></li><li>If you cut a subplate anywhere then you allow its flow to circle again.<ul><li><code>sum(edge[a backward edge]) &lt;= sum(edge[a forward edge that cuts the subplate corresponging to that backward edge]) : for each backward edges</code></li></ul></li><li>The number of pieces of some type is always less than or equal to its demand.<ul><li><code>edge[i] &lt;= d[i] : for each i in 1:number_of_pieces</code></li></ul></li></ul><p><strong>Dummy Plate Identifiers:</strong></p><ul><li>0 - No plate. Waste and backward edges use this value in the <code>back</code> field.</li><li>1:n - A dummy edge corresponding to a piece index, used in the objective function. Edges cutting pieces do not actually appear in the objective function but, in fact, allow more flow to pass through by some of these dummy piece edges.</li><li>n+1 - A dummy edge that is upper bounded at one and allows one extra flow to the original plate default cutting (vertical) backward edge (i.e., n+2). Necessary to avoid n+2 to be restricted by a possible edge that cuts the whole original plate alternative cutting (horizontal). In other words, without this, if a piece has the same length as the plate, then the model has a deadlock problem, and will give a zero objective problem.</li><li>n+2 - The original plate default cutting (vertical) backward edge.</li><li>n+3 - The original plate vertical forward edge that takes the whole plate and allows it to be horizontally cut (i.e., allow flow to n+2).</li><li>n+4 - The original plate alternative cutting (horizontal) backward edge. It is allowed by cutting n+2.</li><li>n+5:m - The remaining intermediary plates.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henriquebecker91/GuillotineModels.jl/blob/f0269f0fd64d7d487c04f33aa2d1f121b1106596/src/Flow/Flow.jl#L26-L139">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../PPG2KP-Enumeration/">« PPG2KP.Enumeration</a><a class="docs-footer-nextpage" href="../Flow-Enumeration/">Flow.Enumeration »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 10 December 2021 21:02">Friday 10 December 2021</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
